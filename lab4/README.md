# Практическое задание по DVC

## Цель задания

В данном практическом задании продемонстрированы навыки использования утилиты DVC (Data Version Control) для работы с данными. Выполнены основные операции с DVC и закреплены теоретические знания на практике.

## Содержание задания

В результате выполнения задания выполнены все основные операции с DVC, включая создание, модификацию и версионирование датасетов.

## Что сделано

1. **Создана папка проекта**: В корне проекта была создана папка `lab4`.
    ```bash
    mkdir lab4
    cd lab4
    ```

2. **Установлены Git и DVC**: 
    - Установлен Git для контроля версий.
    - Установлен DVC через `pip`.

3. **Настроены Git и DVC**:
    - Инициализирован репозиторий Git с помощью `git init`.
    - Инициализирован DVC с помощью `dvc init`.

4. **Настроено удаленное хранилище**: Удаленное хранилище настроено на Google Drive (или другое) для хранения версий данных.
    ```bash
    dvc remote add -d myremote gdrive://<ваш_id_папки>
    ```

5. **Создан датасет**: Датасет о пассажирах «Титаника» был загружен с использованием функции `catboost.titanic()`.
    ```python
    from catboost import Pool
    data = Pool(data='titanic_data.csv')
    ```

6. **Модифицирован датасет**: Датасет изменен с добавлением информации о классе ("Pclass"), поле ("Sex") и возрасте ("Age") пассажиров. Сделан коммит в Git и выполнен push в DVC.
    ```bash
    dvc add titanic_data.csv
    git add titanic_data.csv.dvc .gitignore
    git commit -m "Добавление оригинального датасета"
    dvc push
    ```

7. **Создана новая версия датасета**: В новой версии пропущенные значения в поле “Age” заполнены средним значением. Сделан коммит в Git и выполнен push в DVC.
    ```python
    data['Age'].fillna(data['Age'].mean(), inplace=True)
    data.to_csv('titanic_data_v2.csv')

    dvc add titanic_data_v2.csv
    git add titanic_data_v2.csv.dvc
    git commit -m "Заполнение пропусков в Age средним значением"
    dvc push
    ```

8. **Создан новый признак**: Создан новый признак с использованием one-hot-encoding для строкового признака «Пол» ("Sex"). Сделан коммит в Git и выполнен push в DVC.
    ```python
    data = pd.get_dummies(data, columns=['Sex'], drop_first=True)
    data.to_csv('titanic_data_v3.csv')

    dvc add titanic_data_v3.csv
    git add titanic_data_v3.csv.dvc
    git commit -m "Создание нового признака с one-hot-encoding для 'Sex'"
    dvc push
    ```

9. **Переключение между версиями**: Выполнено переключение между всеми созданными версиями датасета с помощью команды:
    ```bash
    dvc checkout <имя_версии_датасета>
    ```

## Итоги

После выполнения этих шагов был создан Git-репозиторий с опубликованной метаинформацией и удаленное хранилище, в котором хранятся различные версии датасетов. Подготовлен отчет о выполненных функциях и настройках.

Дополнительно настроены DAG, запуск и версионирование экспериментов, например, с использованием библиотеки Hydra.

## Примечания

- В этом задании использован датасет из конкурса «Titanic Disaster», однако могут быть использованы и собственные наборы данных, в этом случае в пунктах 5-8 необходимо применять информацию и признаки из выбранного датасета.
- Все результаты работы помещены в подкаталог `lab4` корневого каталога репозитория.

